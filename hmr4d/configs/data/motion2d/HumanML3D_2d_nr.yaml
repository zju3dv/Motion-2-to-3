# definition of lightning datamodule (dataset + dataloader)
_target_: hmr4d.datamodule.general_datamodule_v2.GeneralDataModule
name: HumanML3D_2dmotion_nr

dataset_opts:
  root: "inputs/hml3d/joints3d.pth"
  is_ignore_transl: True
  is_root_next: True
  is_pinhole: False
  train_fps: 30
  distance: 4.5
  train:
    # HumanML3D
    - _target_: hmr4d.dataset.HumanML3D.motion2d.Dataset
      split: "train_val"
      root: ${data.dataset_opts.root}
      is_ignore_transl: ${data.dataset_opts.is_ignore_transl}
      is_root_next: ${data.dataset_opts.is_root_next}
      is_pinhole: ${data.dataset_opts.is_pinhole}
      train_fps: ${data.dataset_opts.train_fps}
      distance: ${data.dataset_opts.distance}
      multiple_sample: 1
      limit_size: null
  val:
    # HumanML3D
    - _target_: hmr4d.dataset.HumanML3D.motion2d.Dataset
      split: "test"
      root: ${data.dataset_opts.root}
      is_ignore_transl: ${data.dataset_opts.is_ignore_transl}
      is_root_next: ${data.dataset_opts.is_root_next}
      is_pinhole: ${data.dataset_opts.is_pinhole}
      train_fps: ${data.dataset_opts.train_fps}
      distance: ${data.dataset_opts.distance}
      limit_size: null

loader_opts:
  train:
    batch_size: 32 # For one 4090, adjust it according to your gpu memory
    num_workers: 4
  val:
    batch_size: 2
    num_workers: 1
