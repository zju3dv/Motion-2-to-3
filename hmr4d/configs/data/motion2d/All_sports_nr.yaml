# definition of lightning datamodule (dataset + dataloader)
_target_: hmr4d.datamodule.general_datamodule_v2.GeneralDataModule
# USING IDEA400, not MIX
name: All_sports_2dmotion_nr
dataset_opts:
  is_root_next: True
  is_reproj: True 
  train_fps: 30
  distance: 4.5
  patch_size: 224
  is_pinhole: True
  is_ignore_transl: True
  threshold_2d: 0.4 
  train:
    # HumanML3D
    - _target_: hmr4d.dataset.HumanML3D.motion2d.Dataset
      split: "train_val"
      root: inputs/hml3d/joints3d.pth
      is_ignore_transl: ${data.dataset_opts.is_ignore_transl}
      is_root_next: ${data.dataset_opts.is_root_next}
      is_pinhole: ${data.dataset_opts.is_pinhole}
      train_fps: ${data.dataset_opts.train_fps}
      distance: ${data.dataset_opts.distance}
      multiple_sample: 4
      limit_size: null # 100 for fast debug
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/egoexo_climb_split_v0.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path:  inputs/ezi_data/egoexo_text_dict_all_v2_2.json
      text_path2: inputs/ezi_data/gpt35_egoexo_text_dict_all_v2.json 
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # EE soccer
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/egoexo_soccer_split_v1.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path:  inputs/ezi_data/egoexo_text_dict_all_v2_2.json
      text_path2: inputs/ezi_data/gpt35_egoexo_text_dict_all_v2.json 
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # EE Dance
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/egoexo_Dance_split_v1.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path:  inputs/ezi_data/egoexo_text_dict_all_v2_2.json 
      text_path2: inputs/ezi_data/gpt35_egoexo_text_dict_all_v2.json
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # EE basketball
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/egoexo_basketball_split_v1.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path:  inputs/ezi_data/egoexo_text_dict_all_v2_2.json 
      text_path2: inputs/ezi_data/gpt35_egoexo_text_dict_all_v2.json
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # EE dance
    - _target_: hmr4d.dataset.wham_video.motion2d.Dataset
      split: "train"
      root: inputs/wham_data/egoexo_dance_incam_motion_v0.pth
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path:  inputs/wham_data/egoexo_dance_text_v0.json
      is_reproj: ${data.dataset_opts.is_reproj}
      is_pinhole: ${data.dataset_opts.is_pinhole}
      limit_size: null # 100 for fast debug
    # Motion-Xpp
    # Perform
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/motion_xpp_perform_motion_v0.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path:  inputs/ezi_data/Motion_Xpp_v0.json
      text_path2: inputs/ezi_data/gpt35_mtp_text_dict_all_v2.json
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # Kungfu
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/motion_xpp_kungfu_motion_v0.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path: inputs/ezi_data/Motion_Xpp_v0.json
      text_path2: inputs/ezi_data/gpt35_mtp_text_dict_all_v2.json
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # Animation
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/motion_xpp_animation_motion_v0.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path: inputs/ezi_data/Motion_Xpp_v0.json
      text_path2: inputs/ezi_data/gpt35_mtp_text_dict_all_v2.json
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # Haa500
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/motion_xpp_haa500_motion_v0.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path: inputs/ezi_data/Motion_Xpp_v0.json
      text_path2: inputs/ezi_data/gpt35_mtp_text_dict_all_v2.json
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug
    # Humman 
    - _target_: hmr4d.dataset.ezi_video.motion2d.Dataset
      split: "train"
      root: inputs/ezi_data/motion_xpp_humman_motion_v0.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path: inputs/ezi_data/Motion_Xpp_v0.json
      text_path2: inputs/ezi_data/gpt35_mtp_text_dict_all_v2.json
      threshold_2d: ${data.dataset_opts.threshold_2d}
      limit_size: null # 100 for fast debug   
    # Idea400 for extra
    - _target_: hmr4d.dataset.wham_video.motion2d.Dataset
      split: "train"
      root: inputs/wham_data/idea400_light_incam_motion_v0.pth 
      is_root_next: ${data.dataset_opts.is_root_next}
      text_path:  inputs/wham_data/idea400_light_GT4V_v0.json
      is_reproj: ${data.dataset_opts.is_reproj}
      distance: ${data.dataset_opts.distance}
      is_pinhole: ${data.dataset_opts.is_pinhole}
      patch_size: ${data.dataset_opts.patch_size}
      limit_size: null # 100 for fast debug
  val:
    - _target_: hmr4d.dataset.HumanML3D.motion2d.Dataset
      split: "test"
      root: inputs/hml3d/joints3d.pth
      is_ignore_transl: ${data.dataset_opts.is_ignore_transl}
      is_root_next: ${data.dataset_opts.is_root_next}
      is_pinhole: ${data.dataset_opts.is_pinhole}
      train_fps: ${data.dataset_opts.train_fps}
      distance: ${data.dataset_opts.distance}
      limit_size: null # 100 for fast debug
loader_opts:
  train:
    batch_size: 32 # on one gpu
    num_workers: 4
  val:
    batch_size: 1
    num_workers: 1
